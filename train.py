# -*- coding: utf-8 -*-
"""Copy of fine_tune_bart_summarization_two_langs.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1QiO360BrPT79LT_ZZBWDbQRF6LNhk6RV

[![Open In Colab](https://colab.research.google.com/assets/colab-badge.svg)](https://colab.research.google.com/github/elsanns/xai-nlp-notebooks/blob/master/fine_tune_bart_summarization_two_langs.ipynb)
[GitHub](https://github.com/elsanns/xai-nlp-notebooks/blob/master/fine_tune_bart_summarization_two_langs.ipynb)
# Fine-tuning BART for summarization in two languages

---

In a world of ever-growing amount of data, the task of automatically creating coherent and fluent summaries is gaining importance. Coming up with a shorter, concise version of a document, can help to derive value from large volumes of text. 

This notebook contains an example of fine-tuning [Bart](https://huggingface.co/transformers/model_doc/bart.html) for generating summaries of article sections from the [WikiLingua](https://huggingface.co/datasets/wiki_lingua) dataset. WikiLingua is a multilingual set of articles. We will run the same code for two Bart checkpoints, including a non-English model from the [Hugging Face Model Hub](https://huggingface.co/models). We will be using:
- the **English** portion of WikiLingua with [sshleifer/distilbart-xsum-12-3](https://huggingface.co/sshleifer/distilbart-xsum-12-3) Bart checkpoint, and
- **French** articles from the WikiLingua with the [moussaKam/barthez-orangesum-abstract](https://huggingface.co/moussaKam/barthez-orangesum-abstract) model.

## Setup

---
"""


import torch
import numpy as np
import datasets

from transformers import (
    AutoModelForSeq2SeqLM,
    AutoTokenizer,
    Seq2SeqTrainingArguments,
    Seq2SeqTrainer,
    DataCollatorForSeq2Seq,
)

from EntailmentTrainer import EntailmentTrainer

from tabulate import tabulate
import nltk
from datetime import datetime

WANDB_INTEGRATION = False
if WANDB_INTEGRATION:
    import wandb

    wandb.login()

"""## Set language

---

Pick a language. In our example, there is a choice of English and French.

French

English
"""

language = "english"

"""## Model and tokenizer

---

Download model and tokenizer. Use default parameters or try custom values (see [HF Bart configuration](https://huggingface.co/transformers/_modules/transformers/configuration_bart.html) and [Fairseq Bart](https://github.com/pytorch/fairseq/tree/master/examples/bart)).
"""

model_name = "facebook/bart-base"
trained_model_name = "entail-checkpoint-10000/checkpoint-10000/"

model = AutoModelForSeq2SeqLM.from_pretrained(trained_model_name)
tokenizer = AutoTokenizer.from_pretrained(model_name)

# Set model parameters or use the default
# print(model.config)

# tokenization
encoder_max_length = 512  # demo
decoder_max_length = 56

"""## Data

---

### Download

For demonstration, we are only using a small portion of the data.
"""

dataset = datasets.load_dataset("xsum")

"""### Prepare

**Format and split into train and validation sets**

**Preprocess and tokenize**
"""

train_data_txt, validation_data_txt = dataset["train"], dataset["validation"]

dataset["train"]

def batch_tokenize_preprocess(batch, tokenizer, max_source_length, max_target_length):
    source, target = batch["document"], batch["summary"]
    source_tokenized = tokenizer(
        source, padding="max_length", truncation=True, max_length=max_source_length
    )
    target_tokenized = tokenizer(
        target, padding="max_length", truncation=True, max_length=max_target_length
    )

    batch = {k: v for k, v in source_tokenized.items()}
    # Ignore padding in the loss
    batch["labels"] = [
        [-100 if token == tokenizer.pad_token_id else token for token in l]
        for l in target_tokenized["input_ids"]
    ]
    return batch


train_data = train_data_txt.map(
    lambda batch: batch_tokenize_preprocess(
        batch, tokenizer, encoder_max_length, decoder_max_length
    ),
    batched=True,
    remove_columns=train_data_txt.column_names,
)

validation_data = validation_data_txt.map(
    lambda batch: batch_tokenize_preprocess(
        batch, tokenizer, encoder_max_length, decoder_max_length
    ),
    batched=True,
    remove_columns=validation_data_txt.column_names,
)

"""## Training

---

### Metrics
"""

# Borrowed from https://github.com/huggingface/transformers/blob/master/examples/seq2seq/run_summarization.py

nltk.download("punkt", quiet=True)

metric = datasets.load_metric("rouge")


def postprocess_text(preds, labels):
    preds = [pred.strip() for pred in preds]
    labels = [label.strip() for label in labels]

    # rougeLSum expects newline after each sentence
    preds = ["\n".join(nltk.sent_tokenize(pred)) for pred in preds]
    labels = ["\n".join(nltk.sent_tokenize(label)) for label in labels]

    return preds, labels


def compute_metrics(eval_preds):
    preds, labels = eval_preds
    if isinstance(preds, tuple):
        preds = preds[0]
    decoded_preds = tokenizer.batch_decode(preds, skip_special_tokens=True)
    # Replace -100 in the labels as we can't decode them.
    labels = np.where(labels != -100, labels, tokenizer.pad_token_id)
    decoded_labels = tokenizer.batch_decode(labels, skip_special_tokens=True)

    # Some simple post-processing
    decoded_preds, decoded_labels = postprocess_text(decoded_preds, decoded_labels)

    result = metric.compute(
        predictions=decoded_preds, references=decoded_labels, use_stemmer=True
    )
    # Extract a few results from ROUGE
    result = {key: value.mid.fmeasure * 100 for key, value in result.items()}

    prediction_lens = [
        np.count_nonzero(pred != tokenizer.pad_token_id) for pred in preds
    ]
    result["gen_len"] = np.mean(prediction_lens)
    result = {k: round(v, 4) for k, v in result.items()}
    return result

"""### Training arguments"""

training_args = Seq2SeqTrainingArguments(
    output_dir="results3",
    num_train_epochs=15,  # demo
    do_train=True,
    do_eval=True,
    per_device_train_batch_size=4, #32,  # demo
    per_device_eval_batch_size=4, #32,
    # learning_rate=3e-05,
    warmup_steps=500,
    weight_decay=0.1,
    label_smoothing_factor=0.1,
    predict_with_generate=True,
    logging_dir="logs",
    logging_steps=50,
    save_total_limit=3,
)

data_collator = DataCollatorForSeq2Seq(tokenizer, model=model)

trainer = Seq2SeqTrainer(
    model=model,
    args=training_args,
    data_collator=data_collator,
    train_dataset=train_data,
    eval_dataset=validation_data,
    tokenizer=tokenizer,
    compute_metrics=compute_metrics,
)

"""### Train

Wandb integration
"""

if WANDB_INTEGRATION:
    wandb_run = wandb.init(
        project="bart_xsum",
        config={
            "per_device_train_batch_size": training_args.per_device_train_batch_size,
            "learning_rate": training_args.learning_rate,
            "dataset": "wiki_lingua " + language,
        },
    )

    now = datetime.now()
    current_time = now.strftime("%H%M%S")
    wandb_run.name = "run_" + language + "_" + current_time

"""Evaluate before fine-tuning"""

#trainer.evaluate()

"""Train the model"""

#%%wandb
# uncomment to display Wandb charts

#trainer.train()

"""Evaluate after fine-tuning"""

trainer.evaluate()

if WANDB_INTEGRATION:
    wandb_run.finish()

"""## Evaluation

---

**Generate summaries from the fine-tuned model and compare them with those generated from the original, pre-trained one.**
"""

def generate_summary(test_samples, model):
    inputs = tokenizer(
        test_samples["document"],
        padding="max_length",
        truncation=True,
        max_length=encoder_max_length,
        return_tensors="pt",
    )
    input_ids = inputs.input_ids.to(model.device)
    attention_mask = inputs.attention_mask.to(model.device)
    outputs = model.generate(input_ids, attention_mask=attention_mask)
    output_str = tokenizer.batch_decode(outputs, skip_special_tokens=True)
    return outputs, output_str


model_before_tuning = AutoModelForSeq2SeqLM.from_pretrained(model_name)

test_samples = validation_data_txt.select(range(16))

summaries_before_tuning = generate_summary(test_samples, model_before_tuning)[1]
summaries_after_tuning = generate_summary(test_samples, model)[1]

print(
    tabulate(
        zip(
            range(len(summaries_after_tuning)),
            summaries_after_tuning,
            summaries_before_tuning,
        ),
        headers=["Id", "Summary after", "Summary before"],
    )
)
print("\nTarget summaries:\n")
print(
    tabulate(list(enumerate(test_samples["summary"])), headers=["Id", "Target summary"])
)
print("\nSource documents:\n")
print(tabulate(list(enumerate(test_samples["document"])), headers=["Id", "Document"]))

"""## Examples

It appears that for both languages, after a short fine-tuning, our model has adopted the imperative mode of target summaries.

### English

~~
  Id  Summary after                                                                                                                                      Summary before
----  -------------------------------------------------------------------------------------------------------------------------------------------------  ----------------------------------------------------------------------------------------------------------------------
   0  Change your network’s name. Determine how many people would use the guest network.                                                                 If you’re using your home’s “guest” network to connect to your wireless network, you may have the option to change it.
   1  Be the first person to arrive at the site at the time of the event. Make a checklist for your crew.                                                As the world gears up for an event, we take a look at some of the tips you need to make.
   2  Eat fermented dairy products. Eat non-dairy fermented foods. Take a probiotic supplement.                                                          Here is a guide to the best ways to restore your gut flora.
   3  Consider what you need to bring. Bring clothes. Take a few music.                                                                                  If you are looking for a way to get away from home, what do you bring?
   4  Buy a bra that fits right. Check the bra band. Check your bra band is parallel to the ground or lower.                                             A bra that doesn't fit right will look "off" under your clothes.
   5  Get your feelings out of the way. Write a letter for your friend or partner. Talk about what you like about the person.                            If you're breaking up with a partner or friend, it's best to get your feelings out of the way.
   6  Place the child’s diaper on the child's waist. Insert the diaper into the diaper. Close the pin.                                                   It’s almost time for you to fix a new type of diaper pin.
   7  Use a dry bar of soap to fill in your nail holes.                                                                                                  Do you use soap to fill in your nail holes?
   8  Measure the width at the bottom of the shower door. Cut the rail at the appropriate length. Place the bottom track along the base of the opening.  If you want to build a shower on the back of the door, you need to be careful.
   9  Choose a paint that is suitable for metal. Apply a self-etching primer. Spray the primer onto the surface of the brass.                            If you’re a fan of brass, it’s important to know what to do if you paint the metal.
  10  Wash your skin with warm water. Do not touch your eyes, mouth or genitals. Rinse your blisters in a bath.                                          If you've come into contact with poison ivy, you might want to wash your skin.
  11  Wear your hair. Look for a fairy-like look.                                                                                                        If you are especially fair, apply a rosy blush to your cheeks and lipstick to look for a fairy look, what do you do?
  12  Be a permanent resident in the UK. Show that you have enough income to provide support for your parents.                                           If you are legally staying in the UK on a semi-permanent basis, you can likely bring your parents over.
  13  Be aware of the dangers of filling balloons.                                                                                                       If you are making your own way of filling balloons, you might want to think twice before using the process.
  14  Be aware of the dangers of alcohol and substance abuse. Be aware of mental health issues.                                                          If you are a college student, you might be thinking carefully about your college years.
  15  Pass the papers to a substitute. Mail the papers by first-class mail. Send a copy of all court papers by substitution.                             When you serve court papers by substitution, you need to do it to the respondent.

Target summaries:

  Id  Target summary
----  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   0  Click on Guest Access. Allow Guest Access. Identify a guest network name. Define a guest password. Define Total Guests Allowed. Allow SSID Broadcast. Save your settings.
   1  Set everything up. Delegate. Be flexible. Keep everyone updated. Do your thing. For marketing events, give a takeaway. Congratulate yourself after the event. Clean up and get out! Take care of returns, payments, and thank all parties.
   2  Consume fermented dairy products. Add non-dairy fermented foods to your meals 1 to 2 times per day. Take a probiotic supplement.
   3  Prepare a list of things to bring. Consider the weekend's activities. Pack to suit the weather. Keep possible emergencies in mind. Pack lightly.
   4  Make sure your bra is the right size. Choose styles that provide adequate support for large breasts. Check online if you're having trouble finding a bra in your size.
   5  Write a letter to yourself first if it's a bad goodbye. Focus on the good times. Talk about what you like about the other person. Apologize and forgive the other person. End with a kind sentiment if you can.
   6  Fold the diaper up and over until the diaper's top center is at the child’s waistline. Flare out and position both sides of the back portion of the diaper a little (if this diaper is not a folded/elasticated one). Secure the diaper in place with diaper-pins or Velcro.
   7  Rub a bar of soap over the holes to fill them without tools.
   8  Cut the tracks to the appropriate size, if necessary. Measure and mark where the track will go. Drill the holes you marked. Install the bottom threshold track. Mount the wall tracks. Install the door swinging door. Measure and cut the top track. Seal any gaps using caulk.
   9  Choose a spray paint in your desired color. Apply a coat of primer. Apply several thin coats of paint. Apply a protective clear coat.
  10  Wash your skin. Avoid touching the rash. Soak in an astringent bath. Soak in a bath. Use cool compresses.
  11  Create fairy hair. Brighten your complexion. Use make-up to create a natural, fairy look. Dress like fairy.
  12  Have permanent status or citizenship. Ensure your parents need long-term care. Save enough money to support your parents for 5 years.
  13  Observe safety precautions while filling balloons.
  14  Avoid alcohol and substance abuse. Stay alert. Take care of your mental health.
  15  Know who else you can give the papers to. Instruct the substitute. Mail another copy. Fill out a Proof of Service form.

Source documents:

  Id  Document
----  ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   0  There is no need to change any of your basic network or wireless settings. Choose "Yes" from the options. Usually “guest” is just appended on the end of your current network’s name. Some routers may allow you to change this name. Just make sure it’s not the same name as your current network. Since you’re technically creating a new network, you have to define a corresponding network password.  It is a good idea not to use the same password of your home network. You may have the option to define how many you would allow to use the guest network at any given time.   Fewer people using your network would mean better quality of connection for everyone on the network. Remember, your actual bandwidth won’t increase and everyone would just share. You may opt to have this guess network broadcasted or hidden.
   1  Be the first to arrive at the site to oversee the preparations. Make sure everyone files in accordingly and start making phone calls if not. Assist those who need assisting, direct those who need directed, and get out of the way when you need to. No injuries until after the event, please.  You'll feel a little calmer if you make a checklist. Have a portion for your crew, a portion for hired out crews, a portion for decorations and basic set-up, and a portion for equipment. When all is checked off, that's when you have time to breathe. Do not be afraid to delegate. The main stressor when it comes to an event is time. To save it, all hands need to be on deck -- or different decks. If someone isn't being as useful as they could be, give them something better to do. It's your job. It's not you being bossy or overstepping your boundaries; it's you doing what you're supposed to do.  When you delegate, be firm but polite. Say, "Juan, I need you over here right now to help out with the caterers. Thank you." Your crew needs to jive together as much as the event does. Keep everything moving swimmingly by being the leader that you need to be. This means making sure that things are kept to schedule and assisting or having backup plans if it falls behind -- and being okay with it. If you start stressing out, you'll lose your head. Nothing good will come of that. So when that speech runs ten minutes over and the speaker is ignoring your blatant distress signals or your attempt at feigning a stroke to create a diversion, relax. You'll just adjust the appetizer and no one will notice. Event intact. Things happen. They do. They have a bad habit of happening. There's no way you can predict everything, and the sooner you accept this the better. A calm, collected event manager can do wonders for any event; a strung-out, tense one cannot. So relax and go with the flow -- it'll all be over soon! Check that guest numbers and needs are still correct on the day of the event and advise the service team of any changes at the earliest possible opportunity You should be the first set of eyes that notices if anything goes wrong.  Consult with your clients to see how they are feeling; they may be excited, nervous, worried, bored or mentally drained or have some issue on their plate that in some cases you may soothe with understanding, some kind words and practical assistance. It is wise to use this time to rejuvenate the enthusiasm in guests and the team where appropriate. Trust and respect your service team to look after themselves -- if you've given them a good base, they should be fine. Offer assistance if needed, but they should be experienced enough not to need any help at all. Here are a few things to keep in mind:   Act as a concierge or receptionist at the beginning, meeting and greeting each guest (if appropriate) as they come. Hand over the reins to the MC when the event starts. The management role will be more active problem solving and ensuring all the back of housework such as food preparation and service runs to plan. Keep an eye on the guests and keep contact with the MC often and discreetly in case they want (or need) to change plans. Keep a respectful distance from the key guests - after all, the event is all about them - but be easily accessible by checking at appropriate moments how they feel the event is going, as well as any problems, requests or suggestions they may have. You want all your guests to remember how awesome of a time they had. Actually, you probably want more than that. A visit to a website, future donations, word of mouth buzz, whatever. To ensure that your event is the legend it deserves to be, give a takeaway. Whether it's a picture, a flyer, or a pen, having something to remind your guests of the event is a good way to make sure you stay in their minds. Most events tend to run themselves when they start, but all the hard work is the preparation that no-one sees. So pat yourself on the back because you deserve it! Okay, back to tearing it down. The job's not over yet!  After the event, arrange a time to meet and thank your client. It is always recommended to offer an appropriate and thoughtful gift to remember their time with you, as it is these small touches that make the experience richer and may make them recommend your services in future. If you gave a gift during the event, such as in a gift registry with the other guests, then a thoughtful after present such as flowers, a framed photograph of your favourite moment at their event (such as cutting the ribbon, or the climax of the show, or the award ceremony, or the wedding kiss, or blowing out the candles on a cake, etc), or some other gift may be appropriate. Just like mom said, "Leave it in the same condition you found it in," the same goes for your venue. Everything needs to be just like it was before you got there -- this is one business where you don't want to burn any bridges. So let your crews know it's time to tear down and don't let them leave until all is taken care of. And you need to pitch in too!  This is nice, sure, but it also prevents you from being billed any more than you should be. Many places will tack on extra cleaning fees if they find any opportunity to do so. So make it as spic and span as possible to avoid the hidden costs. You may need to arrange returning hired or borrowed equipment and later on consulting with the client about their experience. Even if unpaid after the event, thank them for the opportunity to have such a great experience to run an event with them. Can you get a business card of theirs?  Thank your crew, too! Make sure all parties are paid (and all parties have paid up), file receipts, and get everyone taken care of. You should be one of the last ones out the door -- and make sure it's locked behind you.
   2  Fermented dairy products contain both probiotics and prebiotics. Eat 1 serving of fermented dairy products per day. Fermented dairy products include plain yogurt, cottage cheese, kefir, whey, buttermilk, leben, and crème fraîche.  Look for yogurt products with the label “active cultures” on it. Choose natural yogurts over sweetened yogurts. Instead, sweeten your yogurt naturally with fruit like bananas, peaches, blueberries, and strawberries. Probiotics are microorganisms that stimulate the growth of gut flora. Prebiotics are the fibers that feed probiotics. Non-dairy fermented foods, or pickled foods, are a great alternative to fermented dairy products if you are lactose intolerant. Like fermented dairy products, pickled foods contain probiotics. Eating pickled foods consistently will help you restore your gut flora. Non-dairy fermented foods include sauerkraut, kimchi, corn relish, miso, tempeh, natto, fermented tofu, and pickled vegetables like cucumbers, beets, cabbage, and radish. Taking a probiotic supplement is another great way to restore your gut flora. Take the supplement per the instructions on the bottle. If you are already eating fermented foods to restore your gut flora, it is safe to take a probiotic supplement as well. However, you can take a supplement in place of eating fermented foods, if you do not like fermented food.  Contact your doctor if you are unsure how often you should take the supplement, or if you are taking other medications. If you are taking an antibiotic, a probiotic supplement may help restore your gut flora.  Probiotic supplements are formulated to treat many different conditions. If you have IBS, for instance, you might try using VSL#3. Talk to your doctor or your pharmacist about the ideal product for your specific symptoms.
   3  A to-bring list of items can vary widely depending on the type of weekend trip you're planning. Certain things, like an extra set of clothes, are recommended across the board, while other things can be brought or left depending on the type of place you're going to. Here is a list of things to consider bringing:   Clothes. For a weekend trip, a fresh set of clothing should be considered necessary. You will want to feel fresh on the second and third day of being away from home, and in the case that your first set of clothes gets wet or dirty, you'll want something to fall back on. The same applies to socks and underwear. Bring heavier clothing, like a jacket, based on the forecasted weather.   Toiletries. Toothpaste and a toothbrush should be deemed essential for your trip. If the place you're going has running water, a small vial of shampoo and conditioner should be brought along as well to ensure you're feeling fresh throughout the trip.  Trip entertainment. The journey to and from your location should be just as enjoyable as when you get there. This can be helped by taking along some entertainment. If you're driving, bring a few of your favourite CDs to cycle through. A good book is also recommended, particularly if you're going somewhere relaxing like a lake.  Trip-applicable items. A weekend vacation is often built around a certain activity. Your to-bring list should mention the specific things you'll need to perform that activity. If you're fishing, for example, you will need a rod and a bait box, among other things. Depending on where you're going, items like some mild first aid should be considered as well. A weekend trip is relatively easy to outline. It's not a large amount of time, and it's usually focused on one specific activity. Try to gauge what you will need. Can you think of any activities you'll most likely be doing? What are you hoping to do over the weekend? Running through the vacation in your mind's eye will give you a stronger idea what you should be bringing along with you.  For example, if you're going to a lake in the Summer, useful items such as bug spray and lighter fluid are recommended. Imagine the possible scenarios that relate to the environment in question, and speculate as to the things you would need. If there are activities you may do but aren't sure about (like swimming, for example) it's best to bring them along anyway. A weekend trip isn't going to require much baggage to begin with, and you might feel left out if you decide not to bring something. Your packing should be arranged with respects to the weekend's activity and the environment it's taking place in. Because your trip will only encompass a couple of days, it's prudent to check the weather forecast for those days and plan accordingly. If there's going to be rain, the clothes you bring should reflect that. A poncho and umbrella will be sorely missed if you neglect to check the weather beforehand. In the case of sun, bringing sunglasses and sunscreen will be helpful. Cold weather demands you bring heavier clothing, like a winter parka, along for the ride. If you're somehow unsure, prepare for the worst just in case.  Even if your weekend trip will be spent mostly indoors, bringing an umbrella can make a major difference in the case of rain. Download an app like Weatherbug for on-the-go weather forecasts. Under the best circumstances, you won't need to use everything you bring with you on a weekend trip. In case something bad happens however, you don't want to be far from home and wishing you had brought something. This is especially true if you're going to be camping or otherwise hiking somewhere where help isn't immediately available.  Carry a small bit of first-aid along with your toiletries. This includes some band-aids, aloe vera and headache relievers. These will take up a negligible amount of space, and you'll be glad you brought them if it comes time to use them. A set of extra socks will come in handy, especially if the weather is forecasted to be rainy. Nothing spoils a good weekend faster than wet feet. Even if you're only going to be gone for a weekend, an extra set of underwear is never a bad idea. For a weekend trip, you're more likely to overpack than underpack. Unless you're going camping, you won't need much to hold you over for a weekend and carrying too much stuff around will sap some of the enjoyment of travel to begin with. If you can, see how much you can minimize the amount of stuff you bring, and try to stuff it all into a backpack. You don't want to skimp out on things you might miss, but optional luxuries like a hair dryer can probably be done without over a 48 hour period. For a weekend trip, try to limit yourself to a single backpack forth of clothing and items. This will force you to prioritize what you need over the things you can do without. One change of top is usually all you'll need for a weekend.
   4  A bra that doesn't fit right will look "off" under your clothes. You may be spilling out of the cups or have a band that is too tight and looks lumpy, which may draw attention to your chest. A bra that provides proper support and fits correctly will help you feel comfortable and may improve your confidence.  Check that your bra straps don't dig into your shoulders. Your straps should not be working hard to support your breasts. You may need a smaller band size or a bra with wider straps. You can also buy padding that slips under your straps if your bra fits right but your straps still hurt. Make sure the bra band (the strap that runs across your back) is parallel to the ground or lower. The bra band should provide most of the support, and the lower it is on your back, the more support it can provide.  The cups should be smooth against your chest. If your breasts are spilling out the top or sides or it feels like your bra is cutting into your breasts, try a larger cup or a bra with a bigger cup design.  You should be able to fit a finger under the front of your bra band. If it's too tight, you need a larger band size.  A professional fitting can be extremely beneficial in helping you find a bra that fits correctly. An employee at a lingerie store or department store can measure you for the right band and cup size. The wrong bra can make your breasts look saggy but, even worse, can cause you significant pain. There are many different bra types on the market, and you'll need to find out which ones work for your body.  Try a multi-cup bra. The cups on these bras are made up of two or more pieces of fabric and they provide a ton of support. They will center your breast tissue, which will slenderize your silhouette.  Try a long-line bra, which can relieve stress on your shoulders and back. The band on this bra is extended down to your waist, which distributes the weight of your breasts more evenly over your body. It can also act as shape wear, giving you a smooth line under your clothes.  Try a minimizer bra, especially if you like button-up shirts. Minimizer bras minimize your breasts' projection, or how far they stick out. If you find your breasts cause gaps between the buttons in your shirts, a minimizer will push them back. Be aware that this can also create cleavage, which you may want to avoid if you're trying to deflect attention from your breasts. If you find that the stores in your area don't have bras that accommodate women with larger breasts, there are plenty of great online retailers that offer attractive bras that will give you the support you need. Keep in mind that if you are above a DD cup, sizing will vary among different companies. Check the sizing on the website to make sure you choose the right bra.
   5  That is, if you're breaking up with a partner or letting go of a toxic friend, it's best to get your own feelings out of the way first. Take time to write a healing letter and list all your complaints and hurt feelings. Use this letter to vent everything, and then you can move on to writing a letter for your friend or partner. The first letter tends to be emotionally charged. You may want to blame the other person for everything or hurl insults. But getting it out of the way is good because then you can move on to a calmer, more rational letter. Spend at least part of the letter talking about what you like about the person and your relationship together. In most relationships, there are good times as well as bad, and no matter why you're saying goodbye, you can still end on a good note by taking time to think about what was good. You could write about good memories, like how you met or when you fell in love. Even though you're saying goodbye to the person, you can still note what you liked about the person in the past. You don't need to trash the person to move on, and if you really feel the need to, then maybe that's a letter you should keep to yourself instead. For example, you could say, "I love your kind spirit, your willingness to go on adventures, and your compassion for everyone you met. You made me want to be a better person, and for that, I will always be grateful." If you're breaking up, you both likely played some part in how ended. Don't hold back. Apologize for any part you played in what happened, and if you can, offer forgiveness to the other person. That way, you don't part with bad blood between you. For example, you might write, "I'm sorry for how things have ended between us, and I apologize for my part in that. I don't hold any grudges against you, and I hope you won't hold any against me." If this person was special to you, you can make note of that at the end. Discuss how you'll still think about the person in the future, for instance, and how you'll remember the good times fondly, despite the fact that you need to go your separate ways. For instance, you might say, "I'm sorry that we have to go our separate ways, but I think we just don't work together anymore. No matter what, you will always hold a special place in my heart."
   6  Hold the diaper firmly as you move it around and place it properly. Lay the dry diaper temporarily on the child’s waist so that you can obtain the new pins or get ready to fix the new diaper up again. The amount of diaper you flare back out at the bottom will depend on the child’s weight and width of their waistline. Only flare out and work with one side of the child's diaper at a time. You can repeat this for the other side later. Grab any two pins that aren't in use yet and secure the diaper, reversing the pin's removal from the preparatory steps above. Insert the pin into the diaper and close the pin. Do not push each pin through all the layers of the inner diaper, so you don't risk sticking yourself and your baby. Be sure to insert the end of the pins  away  from the child’s navel/belly button. Snap the diaper pins closed from both sides. Diaper pins are created with an open section in the pin-head. Push the pin around and into the head of the pin’s opening, and push inwards so the pin-head is covering this end of the pin.
   7  Rub a dry bar of soap over your nail holes, back and forth. Stop once the holes look filled in. Run a dry cloth or rag over the surface of the holes to wipe excess soap pieces away.  Avoid using a wet or damp rag, which can melt or dissolve the soap. Opt for a white soap if you have white walls. You can use this method for either drywall or plaster walls.
   8  Measure the width at the bottom of the shower opening. Transfer that measurement to the bottom shower door track and mark with your marking pen. If the track fits to size, move forward with installation. If it's too long, you'll need to cut it to the appropriate length. Using a hacksaw, carefully cut the rail at the mark you made. Be sure the rail is held firmly as you cut to avoid damage to the rail or the saw. Use a file to remove the burrs from all metal pieces you cut. Before you go attaching the tracks on forever, you need to place them temporarily and mark where they need to go. Place the bottom track along the base of the shower opening with the higher lip of the track facing outward. Make sure the track sits flat along the surface. There should be about 1⁄8 inch (0.3 cm) of play at each end.  Temporarily tack the bottom track into place with masking tape, then mark the position with your marking pen along the inner and outer edges. Do not remove the bottom track yet. The wall tracks should be pre-cut to size from the factory. Slide the wall tracks into position with the bottom track. Make sure the wall tracks fit the bottom track exactly. Use your level to check for plumb. Holding each track firmly, use your marking pen to mark the mounting hole locations on each wall then set the wall tracks aside. With a nail or a center punch, tap a small dimple into the marks you made for the holes in the wall tracks to use as a pilot hole. This prevents your drill bit from “skating” and damaging the surface. Drill your mounting holes using the proper bit for the surface of your shower. If you are drilling into tile, put a small piece of masking tape over each spot to be drilled. This will help prevent chipping. Also, drill deep enough so the plastic screw anchors will fit properly. Anchors won't be needed on fiberglass. Run a bead of caulk, about the thickness of a bead of toothpaste, along the bottom mounting surface. Center the bead between the two lines you marked when you measured and run it the full length of the gap as well. Then, firmly set the bottom track into place over the bead of caulk.  Make sure the underside of the track makes contact with the caulking. If not, run a separate bead along the center of the underside of the track. Hold the track in place for a minute or two, taping it down to hold it in place if necessary. It should be try in five minutes at the most, then you can move forward knowing that it's secure. Line them up with the mounting holes and make sure they fit properly over the ends of the bottom track. If you've measured correctly and marked correctly, they should snap right into place. If your kit included them, place the rubber bumpers that come with most door kits over the screws and secure the tracks to the wall by using your screwdriver to turn the screws into place. Do not completely tighten the screws at this point, hand tight is sufficient. Swinging doors will need to be installed differently, according to the kit that you've purchased, so it's important to read the instructions that come with it and follow the directions accordingly. The door needs to be installed so it pivots outward, but for some kits that'll be on the left side and for some that'll be on the right side, and the mechanism works differently, depending. With some, the door will just snap into place, while screws will be used for other kits. In most swinging door kits, a strip of rubber will be slid into the wall track opposite the pivot point, held with screws in some cases. If you had to cut the threshold track, you'll likely also have to cut the top track, since it'll be roughly the same length. Make sure the track fits snugly, connecting between the two wall tracks, and is properly aligned between them. It should just snap right on top. Many door kits will have corner brackets that are attached with screws to hold the top rail securely. Defer to the instructions of your specific kit, if necessary. Finally, run a bead of bathtub caulk along all the points at which the tracks come in contact with the walls. Do this to both inside and outside surfaces to create a neat, watertight seal. Let the caulk dry thoroughly and wait at least 24 hours before running water in the shower to test your work. It should be dry in a few minutes, but it's a good idea to wait and let things settle before you try it out.
   9  Pick a paint that is suitable for metal, such as an enamel paint, an acrylic- or oil-based product, or another hard-drying paint. Most paints that are suitable for metal will be spray paints, but some may come in liquid (roll-on) form. Avoid latex paints for brass, as these don’t adhere as well to metal and aren't as durable. They may be usable if you have selected a high quality primer. The best primer for brass is a self-etching primer, also known as a bonding primer. This is a mixture of acid and zinc, and it will adhere better to the brass than any other type of paint or primer. Shake the primer well and hold it six to eight inches (15 to 20 cm) from the surface of the metal. Spray in a sweeping motion, going from side to side, and apply a thin, even coat of primer onto the surface.  Let the primer dry for about 24 hours, or according to the manufacturer’s instructions. Wear all proper safety equipment when using spray paint, including gloves, safety glasses, and a mask. Even after scrubbing with steel wool, brass still doesn’t have a great surface for painting, which is why self-etching primer is important. Once the primer has had time to dry, apply the paint in the same way. Shake the can, use a sweeping side to side motion, and hold the can six to eight inches (15 to 20 cm) from the surface to apply a thin, even coat.  Let each coat dry completely according to the manufacturer’s instructions (usually an hour or two) before applying a second or third coat.  Depending on the effect you're trying to achieve, you may need anywhere between two and five coats of paint. If your paint came in a liquid form, use a brush or roller to apply thin, even coats. Once the paint has had time to fully dry—usually about 24 hours—you can apply a clear top coat to finish the piece. This will help seal the piece, protect the paint, and make the finish shiny. Look for clear coats or enamel coats that are safe for metal.  Shake the can and hold it six to eight inches (15 to 20 cm) from the surface. Spray the coat in a back and forth motion to apply an even coat on the metal. Set the piece aside to dry according to the manufacturer’s instructions. These coats tend to dry quickly, sometimes in as little as 30 minutes.
  10  As soon as you realize that you've accidentally come into contact with poison ivy, wash your skin very thoroughly. Use lots of warm, soapy water. If you can, wash within the first 30 minutes of touching the poison ivy. If you're still outdoors, find a stream or creek. Place the affected area in the running water for at least 10 minutes.  You should also wash underneath your fingernails. If you're washing up at home, wash all of your clothes and shoes or boots as well. A poison ivy rash can easily spread by simply scratching or touching. If you've come into contact with poison ivy or have a rash, do not touch anywhere around your eyes, mouth, or genitals. All parts of a poison ivy plant (even dead plants) contain an oily allergen called urushiol. This causes a rash or blisters if it comes into contact with your skin or you breathe it in. If you do get a rash around your eyes, mouth or genitals, you should see your doctor immediately. If you have blisters from the poison ivy, never break them open since this increases your risk of infection and scarring. Instead, soak your blisters in a bath with a solution of Burow's solution. You can buy a product containing this solution of aluminum sulfate and aluminum acetate at a drugstore or pharmacy. Soak the blisters for 20 minutes at least two or three times a day. Soaking in Burow's solution acts as an astringent which can reduce the size of the blisters and help dry them out. Fill a sock or nylon knee-high with steel-cut oatmeal. Tie the filled sock onto the tap of your bathtub. Run a cool bath so that the water runs through the oatmeal and into the tub. Soak in the oatmeal bath as long and as often as you like.  Studies have shown that oatmeal is great for soothing your rash and relieving itchiness. The less you scratch your rash, the sooner it will dry up.  You can also purchase an oatmeal bath product that you simply mix into your tub. Soak a clean cotton towel in cold water and squeeze out the extra water. Place the cold cloth over the rash for as long as it stays cool. When it warms up, simply run the cloth under cold water and wring it out again. You can do this as often as you like.  To make an astringent compress that dries out the rash, brew a pot of tea. Soak a clean towel in the cooled tea and apply it to your rash. When your body temperature is higher, your rash may seem itchier. Applying a cool compress can make the rash less itchy and soothe your skin.
  11  Keep your hair natural and whimsical. Messy bohemian styles best capture the fairy look.  If you have long hair, wear it down or in braids. For those who prefer shorter hair, consider a pixie cut or a messy bob. Fairy-like details include piece-y (not perfectly even) bangs and tousled hair. Adorn your hair with ribbons and flowers. Antique pins and barrettes also make for a nice fairy look. Even out your complexion with a light-weight tinted moisturizer. If you are especially fair, apply a rosy blush to your cheeks. Apply a shimmering powder to your cheekbones. Use a highlighter pencil under your brow bone. Fairy beauty is fresh, glowy and wide-eyed.  Wear lip-gloss or a sheer lipstick. Look for products with shimmer. Avoid matte lipsticks, as these are too heavy.  Good color choices include pink, red and wine. Widen your eyes with mascara and light eye-shadow. Choose a good mascara and use only one coat to avoid heavy, spidery lashes. Look for light, shimmering shadows. Mocha, silver and moss-green are some good color options. Fairy fashion is feminine and ethereal, old-fashioned and romantic.  Wear long skirts and flowy dresses. Look for gossamer fabrics and filigree detailing. Err on the side of demure. In summer, you can show your arms, shoulders and perhaps some décolleté, but avoid hems that are too high (think thigh-high) and plunging necklines. For your winter wardrobe, check out the winter fashions of 19th-century Russia. The long coats, muffs and round hats capture the romantic fairy look. Accessorize with headbands and jewelry. Again, antique designs, beads, ribbons and flowers create a romantic and whimsical fairy look. Fairies are often barefoot, but this is not practical. Flat shoes, sandals and Mary Janes are excellent choices. Low-heeled shoes are acceptable, but exceedingly high, stiletto heels are not compatible with the free and easy fairy look.
  12  For your parents to come over, you must be a permanent resident in the U.K. That means that you need to have citizenship, permanent leave to remain, permanent residency, refugee status, or humanitarian protection. Basically, if you are legally staying in the UK on a semi-permanent basis, you can likely bring your parents over. The main way you can bring over your parents is if they need assistance with daily care tasks, including household tasks, personal hygiene tasks, and/or medical tasks. Your parents must need this care because of illness, disability, or age.  Also, they must not be able to get this care where they are living right now, which includes not having any relatives there who can provide that support. Exceptions may be made if care is not affordable. Both parents must apply at the same time if they are both still alive and still married. In other words, if one parent could depend on the other for care, the UK government won't allow just the one parent who needs care to apply. Both parents must need care. In other words, you'll need to show you have sufficient income to provide continuing support for your relatives. You must not use public funds to provide this support.  Generally, you must prove you can at least meet the threshold of making 18,600 pounds per year, which is the amount where you are not dependent on the state for things like a housing credit or tax credits.  It can help to have money saved. If you need to, try creating a budget to help you put some money back.
  13  Use caution when performing the pouring and cutting required in filling party balloons. Adults should supervise or perform parts of this process for children.  Use scissors carefully when cutting balloons. You can also avoid spills of the filling by laying down newspaper or another covering over your work area. Take care if you have a latex allergy, in which case you should opt for balloons made of Mylar or another material instead of the common latex. Adults should handle balloons for infants and toddlers, as balloons and balloon pieces are a choking hazard.
  14  The percentage of alcohol and substance abuse is at its highest during college years. While a legal drink or two might be okay, know when you need to stop. Never take any substance and drive. No matter what situation you are in -- be it a party or walking around campus -- be alert to your surroundings. Watch for suspicious individuals or actions.  When walking around campus, always take well-walked routes and avoid walking around alone at night. Check out your campus safety's website. Often, campuses have emergency phones (they are often blue) scattered around campus for use. Almost half of college students reported feelings of depression or anxiety while in college. Check out your college campus resources for mental health.  Often, campuses offer free or cheap mental health care. Talk to a trusted person (advisor, professor, resident advisor) if you are feeling down. They can help point you to helpful resources.
  15  If the server has done all in his or her power to serve the papers directly to the respondent and has been unable to do so, your server can hand those papers over to a party that can legally accept them on the respondent's behalf. A competent adult, age 18 or older, who lives at home with the respondent can usually accept the papers. Similarly, an adult who appears to be in charge at the respondent's workplace or an adult who seems to be in charge where the person receives mail can usually accept the papers, as well. When passing the court papers to a substitute, your server must leave that substitute with specific instructions regarding what the papers are and what needs to be done with them.  Make sure that the substitute knows that he or she is receiving court papers for a specific individual. The respondent must be named, and the substitute must be told to deliver the papers to the respondent. Get the substitute's name when you leave the papers. If the substitute refuses to provide a name, write down a thorough physical description of the substitute. When you serve papers by substitution, you must also mail another copy of all court papers by first-class mail. Address the package to the respondent.  You need to send the papers to the same address the server left the papers at. Afterward, the server must fill out the "Proof of Service" form as usual. In addition to this form, a "Proof of Mailing (Substituted Service)" form must also be filled out by the server.  Get both forms from the server after he or she fills them out. File them both together at the courthouse on or before your court date. Provide a postal receipt with your forms indicating that you sent a second copy of the papers through the mail.


~~
"""
